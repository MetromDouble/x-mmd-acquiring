$(document).ready(function(){$("#menu-toggler").click(function(){$("#sidebar").toggleClass("sidebar_open"),$(this).toggleClass("menu-toggler_open")});var c=function(){var c=this;this.cardnumber=!1,this.holder=!1,this.cvv=!1,this.maySubmit=!0,this.defaultColor="",this.check=function(e,r,t){c.cardnumber||c.holder||c.cvv||(c.defaultColor=e.css("border-color")),"cardnumber"==r&&(c.cardnumber=c.doOnlyDigit(e,t)),"cvv"==r&&(c.cvv=c.doOnlyDigit(e,t)),"holder"==r&&(c.holder=c.doOnlyText(e,t)),(c.cardnumber||c.holder||c.cvv)&&(e.css("border-color","red"),e.parent().addClass("card__fields_warning")),("cardnumber"==r&&!c.cardnumber||"holder"==r&&!c.holder||"cvv"==r&&!c.cvv)&&(e.css("border-color",c.defaultColor),e.parent().removeClass("card__fields_warning"))},this.submitCheck=function(e,r,t,a){c.maySubmit=c.maySubmit&&!0,c.check(e,r,a),e.val().length<t?(c.maySubmit=!1,e.css("border-color","red")):e.css("border-color",c.defaultColor)}};c.prototype={doOnlyDigit:function(c,e){if(c.val().length>=e)for(;!(c.val().length<=e);)c.val(c.val().replace(/[-\\\.\/\{\}\[\]\ `~|<>?();&^@!=$*"_%+#:'0-9a-zA-Zа-яА-Я]$/i,""));return c.val().match(/[-\\\.\/\{\}\[\]\ `~|<>?();&^@!=$*"_%+#:'a-zA-Zа-яА-Я]/gi)?(c.val(c.val().replace(/[-\\\.\/\{\}\[\]\ `~|<>?();&^@!=$*"_%+#:'a-zA-Zа-яА-Я]/gi,"")),!0):!1},doOnlyText:function(c,e){if(c.val().length>=e)for(;!(c.val().length<=e);)c.val(c.val().replace(/[-\\\.\/\{\}\[\]`~|<>?();&^@!=$*"_%+#:'0-9a-zA-Zа-яА-Я]$/i,""));return c.val().match(/[-\\\.\/\{\}\[\]`~|<>?();&^@!=$*"_%+#:'0-9а-яА-Я]/gi)?(c.val(c.val().replace(/[-\\\.\/\{\}\[\]`~|<>?();&^@!=$*"_%+#:'0-9а-яА-Я]/gi,"")),!0):!1}};var e=new c;$("#card-number > input").each(function(){$(this).keyup(function(){e.check($(this),"cardnumber",4),$(this).val().length>=4&&$(this).next().focus()}),$(this).change(function(){e.check($(this),"cardnumber",4)})}),$("#card-cvv").keyup(function(){e.check($(this),"cvv",3)}),$("#card-cvv").change(function(){e.check($(this),"cvv",3)}),$("#card-holder").keyup(function(){e.check($(this),"holder",120)}),$("#card-holder").change(function(){e.check($(this),"holder",120)}),$("#cardform-paybutton").click(function(){e.maySubmit=!0,$("#card-number > input").each(function(){e.submitCheck($(this),"cardnumber",4,4)}),e.submitCheck($("#card-cvv"),"cvv",3,3),e.submitCheck($("#card-holder"),"holder",4,120),e.maySubmit&&$("#cardform").submit()})});